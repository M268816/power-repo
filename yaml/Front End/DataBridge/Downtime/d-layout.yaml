- d-layout:
    Control: GroupContainer
    Variant: verticalAutoLayoutContainer
    Properties:
      DropShadow: =DropShadow.None
      Fill: =gTheme.Background
      Height: =Parent.Height
      LayoutAlignItems: =LayoutAlignItems.Stretch
      LayoutDirection: =LayoutDirection.Vertical
      LayoutMode: =LayoutMode.Auto
      RadiusBottomLeft: =0
      RadiusBottomRight: =0
      RadiusTopLeft: =0
      RadiusTopRight: =0
      Width: =Parent.Width
    Children:
    - d-collect:
        Control: Classic/Button
        Properties:
          OnSelect: |-
            =/*Start*/
            Patch(rPopups,First(rPopups),{Visible: true, Value: 30, Display_Text: "Collecting Downtime Data"});

            /*Capture Local Date Selection*/
            UpdateContext({
                locEndDate: 'd-end-date'.SelectedDate,
                locStartDate: 'd-start-date'.SelectedDate
            });

            /*Collect Downtime*/
            ClearCollect(cDowntime,
                ForAll(
                    Filter(Sort(FE_Express_DT_Events, DateTime, SortOrder.Descending),
                        DateTime < DateAdd(locEndDate, 1, TimeUnit.Days),
                        DateTime >= locStartDate
                    ),
                    {
                        ID: ThisRecord.ID,
                        Line: ThisRecord.Pleater,
                        Shift: ThisRecord.' Shift',
                        DateTime: ThisRecord.DateTime,
                        Reason: ThisRecord.' Downtime Reason',
                        Downtime_Minutes: ThisRecord.' Downtime Minutes',
                        Comments: Text(ThisRecord.' Comments')
                    }
                )
            );

            Select('d-update');
          Text: ="collect"
          AlignInContainer: =AlignInContainer.Start
          Visible: =false
    - d-update:
        Control: Classic/Button
        Properties:
          OnSelect: "=/*Update Code*/\nPatch(rPopups,First(rPopups),{Value: 40, Display_Text: \"Updating Filters\"});\n\n/*Clear collections for top downtime reasons*/\nClear(collectTopDowntime);\nClear(collectHasReason);\n\nUpdateContext({\n    locStartDate: 'd-start-date'.SelectedDate,\n    locEndDate: 'd-end-date'.SelectedDate\n});\n\n/*Create a Default filter*/\nUpdateContext({\n    locDefaultDowntimeFilter:\n        Filter(\n                cDowntime,\n                And(\n                    'DateTime' >= DateAdd(DateValue(locStartDate), -1, TimeUnit.Hours),\n                    'DateTime' <= DateAdd(DateValue(locEndDate), 23, TimeUnit.Hours)\n                ),\n                If(\n                    'd-shift'.Selected.Value = \"All\",\n                    Shift = Shift,\n                    Shift = 'd-shift'.Selected.Value\n                ),\n                If(\n                    'd-line'.Selected.Value = \"All\",\n                    Line = Line,\n                    Line = 'd-line'.Selected.Value\n                )\n            )\n});\n\n\nSet(test_reasons, Distinct(Filter(collectDowntime, Not(reason = \"\")), reason));\n\n/*For all downtime reasons, collect the total sum of downtime, if downtime is greater than 0, add to has reason collection*/\nPatch(rPopups,First(rPopups),{Value: 50, Display_Text: \"Collecting Top Downtime\"});\nForAll(\n    //collectDowntimeReasons,\n    test_reasons,\n    If(\n        Sum(\n            Filter(\n                locDefaultDowntimeFilter,\n                //reason = Downtime_Reason\n                Reason = Reason\n            ),\n            Downtime_Minutes\n        ) > 0,\n        Collect(\n            collectHasReason,\n            //{Downtime_Reason: Downtime_Reason}\n            {Downtime_Reason: Value}\n        )\n    )\n);\n\n/*For all downtime that has an amount/reason, collect the total sum of downtime, sort by total amount*/\nForAll(\n    collectHasReason,\n    Collect(\n        collectTopDowntime,\n        {\n            Downtime_Reason: Downtime_Reason,\n            \n            Downtime_Total: Sum(\n                Filter(\n                    locDefaultDowntimeFilter,\n                    Reason = Downtime_Reason\n                ),\n                Downtime_Minutes\n            ),\n            \n            Downtime_Comments:\n                Concat(\n                    Filter(\n                        locDefaultDowntimeFilter,\n                        !IsBlankOrError(Comments),\n                        Reason = Downtime_Reason\n                ),\n                    Comments,\n                    \" ¶ \"\n                )\n        }\n    )\n);\n\n/*Garbage collection*/\nUpdateContext({\n    locDefaultDowntimeFilter: Blank()\n});\n\n/*End*/\nPatch(rPopups,First(rPopups),{Visible: false, Value: -1, Display_Text: \"Finishing Up\"});"
          Text: ="update"
          AlignInContainer: =AlignInContainer.Start
          Visible: =false
    - d-header:
        Control: GroupContainer
        Variant: horizontalAutoLayoutContainer
        Properties:
          AlignInContainer: =AlignInContainer.SetByContainer
          DropShadow: =DropShadow.None
          Fill: =gTheme.Primary
          LayoutAlignItems: =LayoutAlignItems.Stretch
          LayoutGap: =gPadding
          LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
          LayoutMinHeight: =10
          LayoutMinWidth: =10
          LayoutMode: =LayoutMode.Auto
          PaddingBottom: =gPadding
          PaddingLeft: =gPadding
          PaddingRight: =gPadding
          PaddingTop: =gPadding
          RadiusBottomLeft: =0
          RadiusBottomRight: =0
          RadiusTopLeft: =0
          RadiusTopRight: =0
        Children:
        - d-logo:
            Control: Image
            Properties:
              Image: =If(gTheme.Mode = "Light", logo1, logo2)
              LayoutMinHeight: =10
              Width: ='d-n-title'.Width
        - d-title:
            Control: Label
            Properties:
              Text: =APP_NAME
              Color: =gTheme.Text_Light
              FillPortions: =1
              LayoutMinHeight: =10
              LayoutMinWidth: =10
              Size: =Self.Height / 3
        - d-mode:
            Control: Classic/Icon
            Variant: HalfFilledCircle
            Properties:
              OnSelect: =If(gTheme.Mode = "Light", Set(gTheme, gThemeMode.Dark),Set(gTheme, gThemeMode.Light))
              Color: =gTheme.Text_On_Dark
              Height: =10
              HoverColor: =gTheme.Text_On_Light
              Icon: =Icon.HalfFilledCircle
              LayoutMinHeight: =10
              PaddingBottom: =4
              PaddingLeft: =4
              PaddingRight: =4
              PaddingTop: =4
              Rotation: =If(gTheme.Mode = "Light", 0, 180)
              Width: =Self.Height
        - d-bugs:
            Control: Image
            Properties:
              OnSelect: =Navigate(Bugs,ScreenTransition.Fade)
              Image: =gIcons.Bug
              HoverFill: =gTheme.Pri_Complement
              ImagePosition: =ImagePosition.Fill
              LayoutMinHeight: =10
              PaddingLeft: =
              RadiusBottomLeft: =Self.Width
              RadiusBottomRight: =Self.RadiusBottomLeft
              RadiusTopLeft: =Self.RadiusBottomLeft
              RadiusTopRight: =Self.RadiusBottomLeft
              Width: =Self.Height
        - d-user-img:
            Control: Image
            Properties:
              Image: =User().Image
              Fill: =RGBA(0, 0, 0, 1)
              ImagePosition: =ImagePosition.Fill
              LayoutMinHeight: =10
              PaddingLeft: =
              RadiusBottomLeft: =Self.Width
              RadiusBottomRight: =Self.RadiusBottomLeft
              RadiusTopLeft: =Self.RadiusBottomLeft
              RadiusTopRight: =Self.RadiusBottomLeft
              Width: =Self.Height
    - d-main:
        Control: GroupContainer
        Variant: horizontalAutoLayoutContainer
        Properties:
          AlignInContainer: =AlignInContainer.SetByContainer
          DropShadow: =DropShadow.None
          FillPortions: =11
          LayoutAlignItems: =LayoutAlignItems.Stretch
          LayoutMinHeight: =10
          LayoutMinWidth: =10
          LayoutMode: =LayoutMode.Auto
          RadiusBottomLeft: =0
          RadiusBottomRight: =0
          RadiusTopLeft: =0
          RadiusTopRight: =0
        Children:
        - d-navigation:
            Control: GroupContainer
            Variant: verticalAutoLayoutContainer
            Properties:
              AlignInContainer: =AlignInContainer.SetByContainer
              DropShadow: =DropShadow.None
              Fill: =gTheme.Midground
              LayoutAlignItems: =LayoutAlignItems.Stretch
              LayoutDirection: =LayoutDirection.Vertical
              LayoutGap: =gPadding
              LayoutMinHeight: =10
              LayoutMinWidth: =10
              LayoutMode: =LayoutMode.Auto
              PaddingBottom: =gPadding
              PaddingLeft: =gPadding
              PaddingRight: =gPadding
              PaddingTop: =gPadding
              RadiusBottomLeft: =0
              RadiusBottomRight: =0
              RadiusTopLeft: =0
              RadiusTopRight: =0
            Children:
            - d-n-title:
                Control: Label
                Properties:
                  Text: =App.ActiveScreen.Name
                  Align: =Align.Center
                  Color: =gTheme.Text_On_Light
                  LayoutMinWidth: =10
                  Size: =Self.Height / 3
            - d-n-separator-0:
                Control: Rectangle
                Properties:
                  Fill: =gTheme.Pri_Complement
                  Height: =Round(gPadding/2,0)
                  LayoutMinWidth: =10
                  Width: =10
            - d-n-gallery:
                Control: Gallery
                Variant: galleryVertical
                Properties:
                  Items: =cNavigation
                  AlignInContainer: =AlignInContainer.SetByContainer
                  DelayItemLoading: =true
                  Layout: =Layout.Vertical
                  LayoutMinHeight: =10
                  LayoutMinWidth: =10
                  LoadingSpinner: =LoadingSpinner.Data
                  TemplatePadding: =gPadding
                  TemplateSize: =40
                Children:
                - d-n-g-button:
                    Control: Classic/Button
                    Properties:
                      OnSelect: =Navigate(ThisItem.Screen,ScreenTransition.Fade)
                      Text: =ThisItem.Label
                      BorderThickness: =1
                      Color: =gTheme.Text_Dark
                      DisplayMode: =If(App.ActiveScreen.Name = ThisItem.Screen.Name, DisplayMode.Disabled, DisplayMode.Edit)
                      Fill: =gTheme.Accent
                      FontWeight: =FontWeight.Normal
                      Height: =Parent.TemplateHeight
                      RadiusBottomLeft: =100
                      RadiusBottomRight: =100
                      RadiusTopLeft: =100
                      RadiusTopRight: =100
                      Size: =Self.Height / 4
                      Width: =Parent.TemplateWidth
            - d-n-legal:
                Control: Label
                Properties:
                  Text: |-
                    =
                    "MilliporeSigma is the U.S. and Canada Life Science business of Merck KGaA, Darmstadt, Germany."
                    &Char(13)&Char(13)&
                    "© 2025 EMD Millipore. All rights reserved."
                  Align: =Align.Center
                  Color: =gTheme.Text_On_Light
                  Height: =200
                  LayoutMinWidth: =10
                  Size: =Self.Height / 24
                  VerticalAlign: =VerticalAlign.Bottom
        - d-filter-parent:
            Control: GroupContainer
            Variant: verticalAutoLayoutContainer
            Properties:
              AlignInContainer: =AlignInContainer.SetByContainer
              DropShadow: =DropShadow.None
              Fill: =gTheme.Background
              LayoutAlignItems: =LayoutAlignItems.Stretch
              LayoutDirection: =LayoutDirection.Vertical
              LayoutGap: =gPadding
              LayoutMinHeight: =10
              LayoutMinWidth: =10
              LayoutMode: =LayoutMode.Auto
              PaddingBottom: =gPadding
              PaddingLeft: =gPadding
              PaddingRight: =gPadding
              PaddingTop: =gPadding
              RadiusBottomLeft: =0
              RadiusBottomRight: =0
              RadiusTopLeft: =0
              RadiusTopRight: =0
            Children:
            - d-filters:
                Control: GroupContainer
                Variant: verticalAutoLayoutContainer
                Properties:
                  AlignInContainer: =AlignInContainer.SetByContainer
                  Fill: =gTheme.Foreground
                  Height: =Parent.Height * 0.5
                  LayoutAlignItems: =LayoutAlignItems.Stretch
                  LayoutDirection: =LayoutDirection.Vertical
                  LayoutGap: =gPadding
                  LayoutMinHeight: =10
                  LayoutMinWidth: =10
                  LayoutMode: =LayoutMode.Auto
                  PaddingBottom: =gPadding
                  PaddingLeft: =gPadding
                  PaddingRight: =gPadding
                Children:
                - d-d-title:
                    Control: Label
                    Properties:
                      Text: ="Filters"
                      Align: =Align.Center
                      AlignInContainer: =AlignInContainer.Center
                      Color: =gTheme.Text_Light
                      Fill: =gTheme.Secondary
                      LayoutMinWidth: =10
                      Size: =Self.Height / 4
                      Width: =Parent.Width
                - d-start-date-label:
                    Control: Label
                    Properties:
                      Text: ="Start Date"
                      Align: =Align.Center
                      Color: =gTheme.Text_On_Light
                      FillPortions: =1
                      LayoutMinHeight: =10
                      LayoutMinWidth: =10
                      PaddingBottom: =0
                      PaddingLeft: =gPadding
                      PaddingRight: =gPadding
                      PaddingTop: =0
                      Size: =Self.Height / 4
                - d-start-date:
                    Control: Classic/DatePicker
                    Properties:
                      BorderThickness: =1
                      Color: =gTheme.Text_On_Light
                      Fill: =gTheme.Background
                      FillPortions: =1
                      FocusedBorderThickness: =1
                      IconBackground: =gTheme.Sec_Complement
                      IconFill: =gTheme.Text_On_Light
                      LayoutMinHeight: =10
                      LayoutMinWidth: =10
                      PaddingBottom: =0
                      PaddingLeft: =gPadding
                      PaddingRight: =gPadding
                      Size: =Self.Height / 5
                - d-end-date-label:
                    Control: Label
                    Properties:
                      Text: ="End Date"
                      Align: =Align.Center
                      Color: =gTheme.Text_On_Light
                      FillPortions: =1
                      LayoutMinHeight: =10
                      LayoutMinWidth: =10
                      PaddingBottom: =0
                      PaddingLeft: =gPadding
                      PaddingRight: =gPadding
                      PaddingTop: =0
                      Size: =Self.Height / 4
                - d-end-date:
                    Control: Classic/DatePicker
                    Properties:
                      BorderThickness: =1
                      Color: =gTheme.Text_On_Light
                      Fill: =gTheme.Background
                      FillPortions: =1
                      FocusedBorderThickness: =1
                      IconBackground: =gTheme.Sec_Complement
                      IconFill: =gTheme.Text_On_Light
                      LayoutMinHeight: =10
                      LayoutMinWidth: =10
                      PaddingBottom: =0
                      PaddingLeft: =gPadding
                      PaddingRight: =gPadding
                      Size: =Self.Height / 5
                - d-update-date:
                    Control: Classic/Button
                    Properties:
                      OnSelect: =Select('d-collect');
                      Text: ="Update Date Range"
                      Tooltip: ="Updates date range of the downtime data."
                      Color: =gTheme.Text_Dark
                      Fill: =gTheme.Accent
                      FillPortions: =1
                      FontWeight: =FontWeight.Normal
                      LayoutMinHeight: =10
                      LayoutMinWidth: =10
                      PaddingBottom: =0
                      PaddingLeft: =gPadding
                      PaddingRight: =gPadding
                      PaddingTop: =0
                      Size: =Self.Width / 16
                - d-d-separator-0:
                    Control: Rectangle
                    Properties:
                      Fill: =gTheme.Pri_Complement
                      Height: =Round(gPadding/2,0)
                      LayoutMinWidth: =10
                      Width: =10
                - d-shift-label:
                    Control: Label
                    Properties:
                      Text: ="Shift"
                      Align: =Align.Center
                      Color: =gTheme.Text_On_Light
                      FillPortions: =1
                      LayoutMinHeight: =10
                      LayoutMinWidth: =10
                      PaddingBottom: =0
                      PaddingLeft: =gPadding
                      PaddingRight: =gPadding
                      PaddingTop: =0
                      Size: =Self.Height / 4
                - d-shift:
                    Control: Classic/DropDown
                    Properties:
                      Items: =Table(["All"],gLists.Shifts)
                      ChevronBackground: =gTheme.Sec_Complement
                      ChevronFill: =gTheme.Text_Dark
                      Color: =gTheme.Text_On_Light
                      Fill: =gTheme.Background
                      FillPortions: =1
                      LayoutMinHeight: =10
                      LayoutMinWidth: =10
                      PaddingBottom: =0
                      PaddingLeft: =gPadding
                      PaddingRight: =gPadding
                      PaddingTop: =0
                      Size: =Self.Height / 5
                - d-d-separator-1:
                    Control: Rectangle
                    Properties:
                      Fill: =gTheme.Pri_Complement
                      Height: =Round(gPadding/2,0)
                      LayoutMinWidth: =10
                      Width: =10
                - d-line-label:
                    Control: Label
                    Properties:
                      Text: ="Line"
                      Align: =Align.Center
                      Color: =gTheme.Text_On_Light
                      FillPortions: =1
                      LayoutMinHeight: =10
                      LayoutMinWidth: =10
                      PaddingBottom: =0
                      PaddingLeft: =gPadding
                      PaddingRight: =gPadding
                      PaddingTop: =0
                      Size: =Self.Height / 4
                - d-line:
                    Control: Classic/DropDown
                    Properties:
                      Items: =Table(["All"],gLists.Lines)
                      ChevronBackground: =gTheme.Sec_Complement
                      ChevronFill: =gTheme.Text_Dark
                      Color: =gTheme.Text_On_Light
                      Fill: =gTheme.Background
                      FillPortions: =1
                      LayoutMinHeight: =10
                      LayoutMinWidth: =10
                      PaddingBottom: =0
                      PaddingLeft: =gPadding
                      PaddingRight: =gPadding
                      PaddingTop: =0
                      Size: =Self.Height / 5
                - d-d-separator-2:
                    Control: Rectangle
                    Properties:
                      Fill: =gTheme.Pri_Complement
                      Height: =Round(gPadding/2,0)
                      LayoutMinWidth: =10
                      Width: =10
                - d-reason-label:
                    Control: Label
                    Properties:
                      Text: ="Reason"
                      Align: =Align.Center
                      Color: =gTheme.Text_On_Light
                      FillPortions: =1
                      LayoutMinHeight: =10
                      LayoutMinWidth: =10
                      PaddingBottom: =0
                      PaddingLeft: =gPadding
                      PaddingRight: =gPadding
                      PaddingTop: =0
                      Size: =Self.Height / 4
                - d-reason:
                    Control: Classic/DropDown
                    Properties:
                      Items: =collectTopDowntime
                      ChevronBackground: =gTheme.Sec_Complement
                      ChevronFill: =gTheme.Text_Dark
                      Color: =gTheme.Text_On_Light
                      Fill: =gTheme.Background
                      FillPortions: =1
                      LayoutMinHeight: =10
                      LayoutMinWidth: =10
                      PaddingBottom: =0
                      PaddingLeft: =gPadding
                      PaddingRight: =gPadding
                      PaddingTop: =0
                      Size: =Self.Height / 5
                - d-d-separator-3:
                    Control: Rectangle
                    Properties:
                      Fill: =gTheme.Pri_Complement
                      Height: =Round(gPadding/2,0)
                      LayoutMinWidth: =10
                      Width: =10
                - d-sorting-label:
                    Control: Label
                    Properties:
                      Text: ="Line"
                      Align: =Align.Center
                      Color: =gTheme.Text_On_Light
                      FillPortions: =1
                      LayoutMinHeight: =10
                      LayoutMinWidth: =10
                      PaddingBottom: =0
                      PaddingLeft: =gPadding
                      PaddingRight: =gPadding
                      PaddingTop: =0
                      Size: =Self.Height / 4
                - d-sort-by:
                    Control: Classic/DropDown
                    Properties:
                      Items: =["Time", "Line", "Shift", "Minutes Down"]
                      ChevronBackground: =gTheme.Sec_Complement
                      ChevronFill: =gTheme.Text_Dark
                      Color: =gTheme.Text_On_Light
                      Fill: =gTheme.Background
                      FillPortions: =1
                      LayoutMinHeight: =10
                      LayoutMinWidth: =10
                      PaddingBottom: =0
                      PaddingLeft: =gPadding
                      PaddingRight: =gPadding
                      PaddingTop: =0
                      Size: =Self.Height / 5
                - d-sort-order:
                    Control: Classic/DropDown
                    Properties:
                      Items: =["Descending", "Ascending"]
                      ChevronBackground: =gTheme.Sec_Complement
                      ChevronFill: =gTheme.Text_Dark
                      Color: =gTheme.Text_On_Light
                      Fill: =gTheme.Background
                      FillPortions: =1
                      LayoutMinHeight: =10
                      LayoutMinWidth: =10
                      PaddingBottom: =0
                      PaddingLeft: =gPadding
                      PaddingRight: =gPadding
                      PaddingTop: =0
                      Size: =Self.Height / 5
        - d-body:
            Control: GroupContainer
            Variant: verticalAutoLayoutContainer
            Properties:
              AlignInContainer: =AlignInContainer.SetByContainer
              DropShadow: =DropShadow.None
              FillPortions: =If(App.Width < Index(App.SizeBreakpoints,3).Value, 6, 10)
              LayoutAlignItems: =LayoutAlignItems.Center
              LayoutGap: =gPadding
              LayoutMinHeight: =10
              LayoutMinWidth: =10
              LayoutMode: =LayoutMode.Auto
              PaddingBottom: =gPadding
              PaddingLeft: =gPadding
              PaddingRight: =gPadding
              PaddingTop: =gPadding
              RadiusBottomLeft: =0
              RadiusBottomRight: =0
              RadiusTopLeft: =0
              RadiusTopRight: =0
            Children:
            - d-top-downtime:
                Control: GroupContainer
                Variant: verticalAutoLayoutContainer
                Properties:
                  BorderColor: =gTheme.Sec_Complement
                  BorderThickness: |-
                    =//If(gTheme.Mode = "Light", 0, 1)
                    0
                  DropShadow: =DropShadow.Semilight
                  Fill: =gTheme.Foreground
                  FillPortions: =2
                  LayoutAlignItems: =LayoutAlignItems.Stretch
                  LayoutDirection: =LayoutDirection.Vertical
                  LayoutMinHeight: =1
                  LayoutMinWidth: =1
                  LayoutMode: =LayoutMode.Auto
                  Visible: =locShowTop
                Children:
                - d_td_total_title:
                    Control: Label
                    Properties:
                      Text: ="Total Downtime"
                      Align: =Align.Center
                      Color: =gTheme.Text_Light
                      Fill: =gTheme.Secondary
                      FillPortions: =0.5
                      Font: =Font.Verdana
                      Height: =Parent.Height
                      LayoutMinHeight: =10
                      LayoutMinWidth: =10
                      Size: =Self.Height / 3
                      Width: =Parent.Width
                - d_td_total:
                    Control: Label
                    Properties:
                      Text: =Sum(collectTopDowntime, Downtime_Total) & " Minutes"
                      Align: =Align.Center
                      Color: =gTheme.Text_Dark
                      Fill: =gTheme.Sec_Complement
                      FillPortions: =0.5
                      Font: =Font.Verdana
                      Height: =Parent.Height
                      LayoutMinHeight: =10
                      LayoutMinWidth: =10
                      Size: =Self.Height / 3.5
                      Width: =Parent.Width
                - d_c_t_header:
                    Control: GroupContainer
                    Variant: manualLayoutContainer
                    Properties:
                      AlignInContainer: =AlignInContainer.SetByContainer
                      DropShadow: =DropShadow.None
                      Fill: =gTheme.Secondary
                      FillPortions: =0.5
                      LayoutMinHeight: =10
                      LayoutMinWidth: =1
                      RadiusBottomLeft: =0
                      RadiusBottomRight: =0
                      RadiusTopLeft: =0
                      RadiusTopRight: =0
                      Width: =Parent.Width
                    Children:
                    - d_c_t_h_title:
                        Control: Label
                        Properties:
                          Text: ="Top Downtime Reasons"
                          Align: =Align.Center
                          Color: =gTheme.Text_Light
                          Font: =Font.Verdana
                          Height: =Parent.Height
                          Size: =Self.Height / 3
                          Width: =Parent.Width
                - d_c_t_columns:
                    Control: GroupContainer
                    Variant: manualLayoutContainer
                    Properties:
                      AlignInContainer: =AlignInContainer.SetByContainer
                      DropShadow: =DropShadow.None
                      Fill: =gTheme.Sec_Complement
                      FillPortions: =0.5
                      LayoutMinHeight: =10
                      LayoutMinWidth: =1
                      RadiusBottomLeft: =0
                      RadiusBottomRight: =0
                      RadiusTopLeft: =0
                      RadiusTopRight: =0
                      Width: =Parent.Width
                    Children:
                    - d_c_t_c_amount:
                        Control: Label
                        Properties:
                          Text: ="Downtime Amount"
                          Align: =Align.Center
                          Color: =gTheme.Text_Dark
                          Font: =Font.Verdana
                          Height: =Parent.Height
                          Size: =Self.Height / 3.5
                          Width: =Parent.Width / 2
                          X: =d_c_t_c_reason.X + d_c_t_c_reason.Width
                    - d_c_t_c_reason:
                        Control: Label
                        Properties:
                          Text: ="Downtime Reason"
                          Align: =Align.Center
                          Color: =gTheme.Text_Dark
                          Font: =Font.Verdana
                          Height: =Parent.Height
                          Size: =Self.Height / 3.5
                          Width: =Parent.Width / 2
                - d_c_t_gallery:
                    Control: Gallery
                    Variant: galleryVertical
                    Properties:
                      Items: =Sort(collectTopDowntime, Downtime_Total, SortOrder.Descending)
                      AlignInContainer: =AlignInContainer.SetByContainer
                      DelayItemLoading: =true
                      FillPortions: =11
                      Layout: =Layout.Vertical
                      LayoutMinHeight: =1
                      LayoutMinWidth: =1
                      LoadingSpinner: =LoadingSpinner.Data
                      TemplatePadding: =0
                      TemplateSize: =Self.Height / 15
                    Children:
                    - d_c_t_g_amount:
                        Control: Label
                        Properties:
                          OnSelect: =Select(Parent)
                          Text: =ThisItem.Downtime_Total
                          Align: =Align.Center
                          Color: =gTheme.Text_On_Light
                          Font: =Font.Verdana
                          Height: =Parent.TemplateHeight - d_c_t_g_separator.Height
                          Size: =Self.Height / 4.5
                          Width: =Parent.TemplateWidth/2
                          X: =d_c_t_g_reason.X + d_c_t_g_reason.Width
                          Y: =1-1
                    - d_c_t_g_reason:
                        Control: Label
                        Properties:
                          OnSelect: =Select(Parent)
                          Text: =ThisItem.Downtime_Reason
                          Align: =Align.Center
                          Color: =gTheme.Text_On_Light
                          Font: =Font.Verdana
                          Height: =Parent.TemplateHeight - d_c_t_g_separator.Height
                          Size: =Self.Height / 4.5
                          Width: =Parent.TemplateWidth/2
                          X: =1-1
                          Y: =1-1
                    - d_c_t_g_separator:
                        Control: Rectangle
                        Properties:
                          OnSelect: =Select(Parent)
                          Fill: =gTheme.Accent
                          Height: =Parent.TemplateHeight * 0.025
                          Width: =Parent.Width
                          Y: =Parent.TemplateHeight - Self.Height
                - d_c_t_copy:
                    Control: Classic/Button
                    Properties:
                      OnSelect: |-
                        =IfError(
                            Copy(
                                Concat(
                                    FirstN(
                                        Sort(
                                            collectTopDowntime,
                                            Downtime_Total,
                                            SortOrder.Descending
                                            ),
                                        6
                                        ),
                                    Downtime_Reason & Char(9) & Downtime_Total & Char(9) & Downtime_Comments,
                                    Char(13)
                                )
                            ),
                            Notify("Cannot copy data from new Teams, or other embeded tools. Please open this app in a web browser to copy items.", NotificationType.Error)
                        );

                        If(
                            'd-line'.Selected.Value = "All",
                            Notify("Cannot copy Downtime for all lines together. Please select one Line at a time." , NotificationType.Information),
                            'd-shift'.Selected.Value = "All",
                            Notify("Cannot copy Downtime for all shifts together. Please select one Shift at a time." , NotificationType.Information),
                            Notify("Copied top downtime for " & 'd-line'.Selected.Value, NotificationType.Success)
                        );
                      Text: ="Copy Downtime for DOR"
                      Tooltip: ="Used to copy the 6 top downtime reasons for reporting into DOR"
                      Color: =gTheme.Text_Dark
                      Fill: =gTheme.Accent
                      FillPortions: =1
                      Font: =Font.Verdana
                      FontWeight: =FontWeight.Normal
                      HoverFill: =ColorFade(Self.Fill, -50%)
                      LayoutMinHeight: =0
                      LayoutMinWidth: =1
                      RadiusBottomLeft: =4
                      RadiusBottomRight: =4
                      RadiusTopLeft: '=4   '
                      RadiusTopRight: '=4   '
                      Size: =Self.Width / 24
                      Width: =Parent.Width
            - d-downtime:
                Control: GroupContainer
                Variant: verticalAutoLayoutContainer
                Properties:
                  BorderColor: =gTheme.Sec_Complement
                  BorderThickness: |-
                    =//If(gTheme.Mode = "Light", 0, 1)
                    0
                  DropShadow: =DropShadow.Semilight
                  Fill: =gTheme.Foreground
                  FillPortions: =If(locShowTop, 7, 1)
                  LayoutAlignItems: =LayoutAlignItems.Stretch
                  LayoutDirection: =LayoutDirection.Vertical
                  LayoutMode: =LayoutMode.Auto
                Children:
                - d-d-header:
                    Control: GroupContainer
                    Variant: manualLayoutContainer
                    Properties:
                      AlignInContainer: =AlignInContainer.SetByContainer
                      DropShadow: =DropShadow.None
                      Fill: =gTheme.Secondary
                      FillPortions: =0.5
                      LayoutMinHeight: =1
                      LayoutMinWidth: =1
                      RadiusBottomLeft: =0
                      RadiusBottomRight: =0
                      RadiusTopLeft: =0
                      RadiusTopRight: =0
                    Children:
                    - d-d-title_1:
                        Control: Label
                        Properties:
                          Text: |-
                            =If(
                                And(
                                    'd-shift'.Selected.Value = "All",
                                    'd-line'.Selected.Value = "All"
                                ),
                                "All Downtime",
                                'd-shift'.Selected.Value = "All",
                                'd-shift'.Selected.Value & " " & 'd-line'.Selected.Value & " Downtime",
                                'd-line'.Selected.Value & " " & 'd-shift'.Selected.Value & " Shift Downtime"

                            )
                          Align: =Align.Center
                          Color: =gTheme.Text_Light
                          Font: =Font.Verdana
                          Height: =Parent.Height
                          Size: =Self.Height / 3
                          Width: =Parent.Width
                    - d-d-toggle:
                        Control: Classic/Button
                        Properties:
                          OnSelect: =UpdateContext({locShowTop:!locShowTop});
                          Text: |-
                            =If(
                                locShowTop,
                                "Hide Top Downtime",
                                "Show Top Downtime"
                            )
                          Tooltip: ="Toggle top downtime widget visibility."
                          Color: =gTheme.Text_Dark
                          Fill: =gTheme.Accent
                          Font: =Font.Verdana
                          FontWeight: =FontWeight.Normal
                          Height: =Parent.Height * 0.80
                          HoverFill: =ColorFade(Self.Fill, -50%)
                          Size: =Self.Width / 16
                          Width: =Parent.Width * 0.15
                          X: =Parent.Width * 0.01
                          Y: =Parent.Height/2 - Self.Height/2
                - d-d-columns:
                    Control: GroupContainer
                    Variant: horizontalAutoLayoutContainer
                    Properties:
                      AlignInContainer: =AlignInContainer.SetByContainer
                      DropShadow: =DropShadow.None
                      Fill: =gTheme.Sec_Complement
                      FillPortions: =0.5
                      LayoutMinHeight: =1
                      LayoutMinWidth: =1
                      LayoutMode: =LayoutMode.Auto
                      RadiusBottomLeft: =0
                      RadiusBottomRight: =0
                      RadiusTopLeft: =0
                      RadiusTopRight: =0
                    Children:
                    - d-d-c-line:
                        Control: Label
                        Properties:
                          Text: ="Line"
                          Align: =Align.Center
                          Color: =gTheme.Text_Dark
                          FillPortions: =1
                          Font: =Font.Verdana
                          Height: =Parent.Height
                          LayoutMinWidth: =1
                          Size: =Self.Height / 4
                          Width: =Parent.Width / 10
                          X: ='d-d-c-shift'.X + 'd-d-c-shift'.Width
                    - d-d-c-shift:
                        Control: Label
                        Properties:
                          Text: ="Shift"
                          Align: =Align.Center
                          Color: =gTheme.Text_Dark
                          FillPortions: =0.5
                          Font: =Font.Verdana
                          Height: =Parent.Height
                          LayoutMinWidth: =1
                          Size: =Self.Height / 4
                          Width: =(Parent.Width / 10) * 0.5
                    - d-d-c-time:
                        Control: Label
                        Properties:
                          Text: ="Time"
                          Align: =Align.Center
                          Color: =gTheme.Text_Dark
                          FillPortions: =1
                          Font: =Font.Verdana
                          Height: =Parent.Height
                          LayoutMinWidth: =1
                          Size: =Self.Height / 4
                          Width: =Parent.Width / 10
                          X: ='d-d-c-shift'.X + 'd-d-c-shift'.Width
                    - d-d-c-total:
                        Control: Label
                        Properties:
                          Text: ="Minutes Down"
                          Align: =Align.Center
                          Color: =gTheme.Text_Dark
                          FillPortions: =1
                          Font: =Font.Verdana
                          Height: =Parent.Height
                          LayoutMinWidth: =1
                          Size: =Self.Height / 4
                          Width: =Parent.Width / 10
                          X: ='d-d-c-reason'.X + 'd-d-c-reason'.Width
                    - d-d-c-reason:
                        Control: Label
                        Properties:
                          Text: ="Reason"
                          Align: =Align.Center
                          Color: =gTheme.Text_Dark
                          FillPortions: =1
                          Font: =Font.Verdana
                          Height: =Parent.Height
                          LayoutMinWidth: =1
                          Size: =Self.Height / 4
                          Width: =(Parent.Width / 10) * 1.5
                          X: ='d-d-c-line'.X + 'd-d-c-line'.Width * 5
                    - d-d-c-comments:
                        Control: Label
                        Properties:
                          Text: ="Comments"
                          Align: =Align.Center
                          Color: =gTheme.Text_Dark
                          FillPortions: =2.5
                          Font: =Font.Verdana
                          Height: =Parent.Height
                          LayoutMinWidth: =1
                          Size: =Self.Height / 4
                          Width: =(Parent.Width / 10) * 2
                          X: ='d-d-c-total'.X + 'd-d-c-total'.Width
                - d-d-gallery:
                    Control: Gallery
                    Variant: galleryVertical
                    Properties:
                      OnSelect: |-
                        =Set(varDowntimeID, 'd-d-gallery'.Selected.id);
                        Set(varDowntimeMode, FormMode.Edit);
                        Navigate(Modify_Downtime);
                      Items: "=SortByColumns(\n    Filter(\n        cDowntime,\n        DateTime >= DateAdd(locStartDate, -1, TimeUnit.Hours),\n        If(\n            'd-shift'.Selected.Value = \"All\",\n            Shift = Shift,\n            Shift = 'd-shift'.Selected.Value\n            ),\n        If(\n            'd-line'.Selected.Value = \"All\",\n            Line = Line,\n            Line = 'd-line'.Selected.Value\n            ),\n        If(\n            IsBlank('d-reason'.Selected.Downtime_Reason),\n            Reason = Reason,\n            Reason = 'd-reason'.Selected.Downtime_Reason\n            )\n    ),\n    \n    Switch(\n        'd-sort-by'.Selected.Value,\n        \"Line\",\n        \"Line\",\n        \"Shift\",\n        \"Shift\",\n        \"Time\",\n        \"DateTime\",\n        \"Minutes Down\",\n        \"Downtime_Minutes\"\n    ),\n    \n    Switch(\n        'd-sort-order'.Selected.Value,\n        \"Ascending\",\n        SortOrder.Ascending,\n        \"Descending\",\n        SortOrder.Descending,\n        SortOrder.Ascending\n    )\n\n)"
                      AlignInContainer: =AlignInContainer.SetByContainer
                      DelayItemLoading: =true
                      FillPortions: =11
                      Layout: =Layout.Vertical
                      LayoutMinHeight: =1
                      LayoutMinWidth: =1
                      LoadingSpinner: =LoadingSpinner.Data
                      TemplatePadding: =0
                      TemplateSize: =Self.Height / 18
                    Children:
                    - d-d-g-columns:
                        Control: GroupContainer
                        Variant: horizontalAutoLayoutContainer
                        Properties:
                          DropShadow: =DropShadow.None
                          Height: =Parent.TemplateHeight - 'd-d-g-separator'.Height
                          LayoutAlignItems: =LayoutAlignItems.Stretch
                          LayoutMode: =LayoutMode.Auto
                          RadiusBottomLeft: =0
                          RadiusBottomRight: =0
                          RadiusTopLeft: =0
                          RadiusTopRight: =0
                          Width: =Parent.TemplateWidth
                        Children:
                        - d-d-g-line:
                            Control: Label
                            Properties:
                              OnSelect: =Select('d-d-gallery');
                              Text: =ThisItem.Line
                              Align: =Align.Center
                              Color: =gTheme.Text_On_Light
                              FillPortions: =1
                              Font: =Font.Verdana
                              Height: =Parent.Height
                              LayoutMinHeight: =5
                              LayoutMinWidth: =5
                              Size: =Self.Height / 4.5
                              Width: =Parent.Width / 10
                              X: =1
                              Y: =1
                        - d-d-g-shift:
                            Control: Label
                            Properties:
                              OnSelect: =Select('d-d-gallery');
                              Text: =ThisItem.Shift
                              Align: =Align.Center
                              Color: =gTheme.Text_On_Light
                              FillPortions: =0.5
                              Font: =Font.Verdana
                              Height: =Parent.Height
                              LayoutMinHeight: =5
                              LayoutMinWidth: =5
                              Size: =Self.Height / 4.5
                              Width: =(Parent.Width / 10) * 0.5
                              X: =1
                              Y: =1
                        - d-d-g-date:
                            Control: Label
                            Properties:
                              OnSelect: =Select('d-d-gallery');
                              Text: |-
                                =DateValue(ThisItem.DateTime) &"
                                "& TimeValue(ThisItem.DateTime)
                              Align: =Align.Center
                              Color: =gTheme.Text_On_Light
                              FillPortions: =1
                              Font: =Font.Verdana
                              Height: =Parent.Height
                              LayoutMinHeight: =5
                              LayoutMinWidth: =5
                              Size: =Self.Height / 4.5
                              Width: =Parent.Width
                              X: =1
                              Y: =1
                        - d-d-g-total:
                            Control: Label
                            Properties:
                              OnSelect: =Select('d-d-gallery');
                              Text: =ThisItem.Downtime_Minutes
                              Align: =Align.Center
                              Color: =gTheme.Text_On_Light
                              FillPortions: =1
                              Font: =Font.Verdana
                              Height: =Parent.Height
                              LayoutMinHeight: =5
                              LayoutMinWidth: =5
                              Size: =Self.Height / 4.5
                              Width: =Parent.Width / 10
                              X: =1
                              Y: =1
                        - d-d-g-reason:
                            Control: Label
                            Properties:
                              OnSelect: =Select('d-d-gallery');
                              Text: =ThisItem.Reason
                              Align: =Align.Center
                              Color: =gTheme.Text_On_Light
                              FillPortions: =1
                              Font: =Font.Verdana
                              Height: =Parent.Height
                              LayoutMinHeight: =5
                              LayoutMinWidth: =5
                              Size: =Self.Height / 4.5
                              Width: =(Parent.Width / 10) * 1.5
                              X: =1
                              Y: =1
                        - d-d-g-comments:
                            Control: Label
                            Properties:
                              OnSelect: =Select('d-d-gallery');
                              Text: =ThisItem.Comments
                              Align: =Align.Center
                              Color: =gTheme.Text_On_Light
                              FillPortions: =2.5
                              Font: =Font.Verdana
                              Height: =Parent.Height
                              LayoutMinHeight: =5
                              LayoutMinWidth: =5
                              Overflow: =Overflow.Scroll
                              Size: =Self.Height / 4.5
                              Width: =(Parent.Width / 10) * 2
                              X: =1
                              Y: =1
                    - d-d-g-separator:
                        Control: Rectangle
                        Properties:
                          OnSelect: =Select(Parent)
                          Fill: =gTheme.Accent
                          Height: =Parent.TemplateHeight * 0.025
                          Width: =Parent.Width
                          Y: =Parent.TemplateHeight - Self.Height
