- Init:
    Control: Screen
    Properties:
      OnVisible: "=/* Initial Color Theme */\r\nSet(varColor0, Color.Black);\r\nSet(varColor1, RGBA(80, 50, 145, 1));       //Rich Purple\r\nSet(varColor2, RGBA(15, 105, 175, 1));      //Rich Blue\r\nSet(varColor3, RGBA(45, 190, 205, 1));      //Vibrant Cyan\r\nSet(varColor4, RGBA(255, 220, 185, 1));     //Sensitive Yellow\r\nSet(varColor5, Color.White);\r\nSet(varColorAccent, RGBA(255, 200, 50, 1)); //Vibrant Yellow\r\nSet(varColorYes, RGBA(20, 155, 95, 1));     //Rich Green\r\nSet(varColorNo, RGBA(230, 30, 80, 1));      //Rich Red\r\nSet(varHexRich, \"#503291\");\r\nSet(varHexAccent, \"#FFC832\");\r\nSet(varHexYes, \"#149B5F\");\r\nSet(varHexNo, \"#E61E50\");\r\n\r\nIf(varInit,\r\n    \r\n    Select(i_init);,\r\n    \r\n    UpdateContext({\r\n        locLoading:\r\n            {\r\n                Visible: false,\r\n                Value: 100,\r\n                Text: \"PowerApp developer not found. Application Locked.\"\r\n            }\r\n    });\r\n)"
    Children:
    - i_init:
        Control: Classic/Button
        Properties:
          OnSelect: |+
            =UpdateContext({locLoading:{Visible: false,Value: 10,Text: "Initializing global variables."}});

            /* Set Global Variables */
            Set(varLastUnitStartingTime, Blank());
            Set(varDevVis, false);
            Set(varProductionLine, "Null");
            Set(varShiftSelect, "ALL");
            Set(varScanResult, "");
            Set(varCamDisplay, DisplayMode.Edit);
            Set(varRunner, Blank());
            Set(varMiddle, Blank());
            Set(varBagger, Blank());
            Set(varLot, "");
            Set(varCatalog, "");
            Set(varUnitMode, FormMode.New);
            Set(varDowntimeMode, FormMode.New);

            /* Initialize Collections */
            UpdateContext({locLoading:{Visible: false,Value: 30,Text: "Initializing downtime reason database."}});
            /* Downtime Reasons */
            ClearCollect(collectDowntimeReasons,
                {Downtime_Reason: "2 Lots Awaiting Lot Release"},
                {Downtime_Reason: "Accountability"},
                {Downtime_Reason: "Bagger"},
                {Downtime_Reason: "Break Not Covered"},
                {Downtime_Reason: "Cleaning/LAL Test"},
                {Downtime_Reason: "Engineering DT"},
                {Downtime_Reason: "Huddle/Stop Work/Flow down"},
                {Downtime_Reason: "Leak Master"},
                {Downtime_Reason: "Lot Changeover"},
                {Downtime_Reason: "Melt Checks"},
                {Downtime_Reason: "No Scheduled Work"},
                {Downtime_Reason: "Other"},
                {Downtime_Reason: "Planned Downtime"},
                {Downtime_Reason: "Plug Bonder"},
                {Downtime_Reason: "Preventive Mainenance"},
                {Downtime_Reason: "QA Sample Build"},
                {Downtime_Reason: "Quality Issue"},
                {Downtime_Reason: "Safety/EMRT"},
                {Downtime_Reason: "Shift Change"},
                {Downtime_Reason: "Short Staff Over Target"},
                {Downtime_Reason: "Short Staff Under Target"},
                {Downtime_Reason: "Spider Bonder"},
                {Downtime_Reason: "SSC Bonder"},
                {Downtime_Reason: "Training"},
                {Downtime_Reason: "Uson Tester"},
                {Downtime_Reason: "Vibe Welder"},
                {Downtime_Reason: "Waiting for Mechanic"},
                {Downtime_Reason: "Waiting for Parts"},
                {Downtime_Reason: "Waiting for Leabels"},
                {Downtime_Reason: "XL Bonder"},
                {Downtime_Reason: "XLT Bonder"}
                );

            ClearCollect(collectHasReason,
                {Downtime_Reason: "Null"}
                );

            UpdateContext({locLoading:{Visible: false,Value: 90,Text: "Initializing hourly operator change notifications."}});
            ClearCollect(collectNotifyTimes,
                { line: ["XL1","XL2","XLT","XLT2","XLT3"], hour: [3, 8, 11, 16, 19, 23]},
                { line: ["XL3","XL4","XL5"], hour: [2, 5, 8, 10, 13, 16, 18, 21, 23]},
                { line: ["SSC","SSC2"], hour: [8, 16, 23]}
            );

            UpdateContext({locLoading:{Visible: false,Value: 100,Text: "Starting."}});
            Navigate(Login);


          Text: ="init"
          Height: =100
          Visible: =false
          Width: =100
    - i_loading:
        Control: GroupContainer
        Variant: manualLayoutContainer
        Properties:
          DropShadow: =DropShadow.None
          Fill: =varColor3
          Height: =Parent.Height
          RadiusBottomLeft: =0
          RadiusBottomRight: =0
          RadiusTopLeft: =0
          RadiusTopRight: =0
          Width: =Parent.Width
        Children:
        - i_l_image:
            Control: Image
            Properties:
              Image: |-
                =If(varInit, loading_double,

                "data:image/svg+xml;utf8, " & EncodeUrl("

                <svg id='Icon' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 140 140'><defs><style>.cls-1{fill:"&varHexNo&";}</style></defs><path class='cls-1' d='M69.89-.07A70,70,0,0,0,4.92,96c2.3,5.76,5.19,12.17,13.11,12.2,5.65,0,11.81-7.49,12.33-8l26.69-28a3.77,3.77,0,0,0,.86-2.24,3.59,3.59,0,0,0-.54-1.78C51.81,62.26,36.21,45.85,28.72,38a2,2,0,0,1,1.45-3.37H40.81a17.52,17.52,0,0,1,3.66.29c1.9.35,3.07,2,4.53,3.39l18.13,18.5a3.58,3.58,0,0,0,5.52,0l18.13-18.5c1.46-1.42,2.63-3,4.53-3.39A17.52,17.52,0,0,1,99,34.63h10.64A2,2,0,0,1,111.06,38C103.57,45.85,88,62.25,82.41,68.1a3.59,3.59,0,0,0-.54,1.78,3.77,3.77,0,0,0,.86,2.24c5.57,5.86,21.45,22.54,28.32,29.74a2,2,0,0,1-1.45,3.38H98.13c-4.46-.12-4.62-1-7.35-3.67,0,0-7.44-7.59-12.81-13.06l-5.32-5.44a3.58,3.58,0,0,0-5.52,0l-4.5,4.6L52.28,98.22c-7.35,6.87-13.84,10.58-13.87,21A19.35,19.35,0,0,0,48,135.94a18.82,18.82,0,0,0,2,1,55.78,55.78,0,0,0,11.13,2.42,73.51,73.51,0,0,0,8.81.58,70,70,0,0,0,0-140Z'/></svg>

                ")

                )
              X: =Center(Parent.Width,Self.Width)
              Y: =i_l_progress.Y + i_l_progress.Height
        - i_l_progress:
            Control: Progress
            Properties:
              ProgressColor: ='Progress.ProgressColor'.Brand
              Shape: ='Progress.Shape'.Rounded
              Thickness: ='Progress.Thickness'.Large
              Value: =locLoading.Value
              Height: =Parent.Height * 0.1
              Width: =Parent.Width * 0.5
              X: =Center(Parent.Width,Self.Width)
              Y: =Center(Parent.Height,Self.Height)
        - i_l_text:
            Control: Text
            Properties:
              Align: ='TextCanvas.Align'.Center
              Size: =22
              Text: =locLoading.Text
              Height: =i_l_progress.Height
              Width: =i_l_progress.Width
              X: =i_l_progress.X
              Y: =i_l_progress.Y - Self.Height
